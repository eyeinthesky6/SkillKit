# SkillKit Architecture - The Complete Picture

**Date:** November 5, 2025  
**Status:** âœ… ALIGNED

---

## ğŸ¯ WHAT IS SKILLKIT?

**Official Definition:**
> SkillKit is a **doc-first workflow and task execution system** for AI agents within IDEs. Like Claude Skills and AGENTS.md, but more granular with task-level control and environmental awareness.

**Evolution:**
1. **Started:** Convert copy-paste workflow package â†’ npm installable
2. **Expanded:** Cross-platform, IDE-agnostic, skill registry
3. **Now:** Complete workflow execution system with intelligent adapters

---

## ğŸ“š THE THREE COMPONENTS (Clarified)

### 1. **WORKFLOWS** - Multi-step Protocols

**What:** Structured markdown documents with sequences of steps  
**Example:** `BEGIN_SESSION.md`, `implement-feature.md`, `DEDUP.md`  
**Purpose:** Guide AI agents through complex multi-step processes  
**Location:** `.cursor/commands/*.md`

**Characteristics:**
- Multi-phase protocols (5-7 steps)
- Decision trees and branching
- Context loading and state management
- Present menus and get user input
- Orchestrate multiple skills/commands

**Example (BEGIN_SESSION.md):**
```markdown
Step 1: Load context (read AITracking docs)
Step 2: Run diagnostics (tsk diagnose)
Step 3: Analyze results
Step 4: Present task menu
Step 5: Route to appropriate workflow
```

**Think of it as:** A recipe or SOP (Standard Operating Procedure)

---

### 2. **SKILLS** - Single-purpose Automation

**What:** Reusable automation units that do ONE thing well  
**Example:** `diagnose-project`, `check-duplicates`, `validate-contracts`  
**Purpose:** Provide tools that workflows and humans can invoke  
**Location:** `skills/*/` or npm packages

**Characteristics:**
- Single, focused task
- Input/output schemas
- Sandboxed execution
- Can be chained together
- Reusable across workflows

**Example (diagnose-project skill):**
```yaml
name: diagnose-project
inputs: { projectRoot: string }
outputs: { lint: number, type: number, build: string }
# Runs: auto-detected lint + type + build + todos
```

**Think of it as:** A function or CLI command

---

### 3. **AGENTS.md** - Skill Registry/Catalog

**What:** Manifest file listing available skills  
**Example:** Claude Code's `AGENTS.md`, OpenAI's agent spec  
**Purpose:** Tell AI what skills exist and how to use them  
**Location:** Project root or `.cursor/`

**Characteristics:**
- Lists all available skills
- Includes schemas and descriptions
- Auto-generated by SkillKit
- IDE-agnostic format
- Enables skill discovery

**Example:**
```xml
<skills>
  <skill name="diagnose-project">
    <description>Run all project diagnostics</description>
    <input_schema>...</input_schema>
    <output_schema>...</output_schema>
  </skill>
  <skill name="check-duplicates">...</skill>
</skills>
```

**Think of it as:** API documentation or package.json

---

## ğŸ”— HOW THEY WORK TOGETHER

### The Complete Flow:

```
1. IDE (Cursor/Windsurf/Claude Code)
   â””â”€> Reads: AGENTS.md (what skills exist)
   â””â”€> Loads: .cursor/commands/*.md (workflow docs)
   â””â”€> Provides to AI agent

2. User invokes workflow
   â””â”€> Types: @BEGIN_SESSION.md
   â””â”€> Or slash command: /begin-session

3. AI Agent receives
   â””â”€> Workflow doc (instructions)
   â””â”€> AGENTS.md (available skills)
   â””â”€> Project context

4. AI executes workflow
   â””â”€> Follows BEGIN_SESSION.md steps
   â””â”€> Calls skills: tsk diagnose
   â””â”€> Makes decisions based on results
   â””â”€> Routes to next workflow

5. SkillKit provides
   â””â”€> Command execution (tsk diagnose)
   â””â”€> Framework adapters (auto-detect stack)
   â””â”€> Structured output (JSON for agents)
   â””â”€> Skill orchestration
```

---

## ğŸ­ COMPARISON TO EXISTING SYSTEMS

### Claude Skills (Anthropic)
- **Format:** SKILL.md with YAML frontmatter
- **Scope:** Single-purpose skills
- **Distribution:** GitHub repos
- **Limitation:** Claude-specific

### AGENTS.md (OpenAI)
- **Format:** XML manifest
- **Scope:** Skill registry
- **Distribution:** Project file
- **Limitation:** Just a catalog, no execution

### SkillKit (Trinity OS)
- **Format:** Both (SKILL.md support + AGENTS.md generation)
- **Scope:** Skills + Workflows + Execution
- **Distribution:** npm packages
- **Advantage:** 
  - âœ… Cross-platform (TypeScript/Python/Java/etc)
  - âœ… IDE-agnostic (Cursor/Windsurf/Claude Code)
  - âœ… Auto-generates AGENTS.md
  - âœ… Environmental awareness (adapts to stack)
  - âœ… Workflow orchestration
  - âœ… CLI + programmatic API

---

## ğŸ—ï¸ SKILLKIT FEATURES

### 1. Environmental Awareness
```bash
# Same command, different stacks:
$ tsk diagnose

# TypeScript project:
â†’ Detects package.json
â†’ Runs: pnpm run lint, pnpm run type-check

# Python project:
â†’ Detects pyproject.toml
â†’ Runs: flake8, mypy, pytest

# Java project:
â†’ Detects pom.xml
â†’ Runs: mvn checkstyle:check, mvn test
```

### 2. IDE Integration
```bash
# One-time setup:
$ npm install -g @trinity-os/skillkit
$ tsk init --cursor

# Creates:
.cursor/commands/begin-session.md
.cursor/commands/implement-feature.md
AGENTS.md (auto-generated)
agents.yaml (project config)
```

### 3. Dual Interface
```bash
# For AI Agents:
tsk diagnose --json  # Structured output
tsk exec quality-gate  # Workflow execution

# For Humans:
tsk diagnose  # Pretty output
tsk suggest  # Interactive recommendations
```

### 4. Framework Adapters
- Detects: package.json, pyproject.toml, pom.xml, go.mod, composer.json
- Maps: Generic intents â†’ Stack-specific commands
- Example: `tsk test` â†’ npm test / pytest / mvn test / go test

### 5. Workflow Orchestration
- Chains commands intelligently
- Handles errors and retries
- Provides rollback capabilities
- Enforces quality gates

---

## ğŸ†š WORKFLOWS vs SKILLS vs AGENTS

### Quick Reference Table:

| Aspect | Workflows | Skills | AGENTS.md |
|--------|-----------|--------|-----------|
| **What** | Multi-step protocols | Single-purpose tools | Skill catalog |
| **Format** | Markdown docs | SKILL.yaml + JS | XML manifest |
| **Granularity** | Coarse (5-7 steps) | Fine (1 task) | N/A |
| **Complexity** | High (orchestration) | Low (focused) | None (just list) |
| **Reusability** | Project-specific | Cross-project | N/A |
| **Examples** | BEGIN_SESSION, implement-feature | diagnose, dedup | Lists all skills |
| **Who creates** | Developers | Developers | Auto-generated |
| **Who uses** | AI agents (guided) | AI/Humans (invoked) | IDE (discovery) |
| **Analogy** | Recipe book | Individual tools | Tool catalog |

### In Code:

```bash
# WORKFLOW (multi-step)
@BEGIN_SESSION.md
  â†’ Step 1: Load context
  â†’ Step 2: tsk diagnose (invokes SKILL)
  â†’ Step 3: Analyze results
  â†’ Step 4: Present menu
  â†’ Step 5: Route to workflow

# SKILL (single-purpose)
tsk diagnose
  â†’ Detect environment
  â†’ Run lint
  â†’ Run type check
  â†’ Return JSON

# AGENTS.md (catalog)
# Lists that "diagnose-project" skill exists
# Shows input/output schemas
# Enables IDE to suggest it
```

---

## ğŸ¯ CORE VALUE PROPOSITIONS

### 1. For AI Agents
âœ… Structured workflows to follow  
âœ… Reusable skills to invoke  
âœ… Automatic skill discovery (AGENTS.md)  
âœ… Consistent interface across stacks  
âœ… JSON output for parsing  

### 2. For Developers
âœ… npm install â†’ ready to use  
âœ… No configuration needed (auto-detects)  
âœ… CLI for manual execution  
âœ… Cross-platform workflows  
âœ… Easy to customize  

### 3. For Teams
âœ… Standardized protocols  
âœ… Reusable skill library  
âœ… IDE-agnostic workflows  
âœ… Easy onboarding  
âœ… Consistent development practices  

---

## ğŸš€ DEPLOYMENT SCENARIOS

### Scenario 1: Basic Usage
```bash
npm install -g @trinity-os/skillkit
tsk diagnose  # Works immediately
```

### Scenario 2: Cursor Integration
```bash
tsk init --cursor
# AI agent can now use: @begin-session.md
```

### Scenario 3: Custom Environment
```bash
# SkillKit provides base workflows for popular stacks:
tsk init --cursor --template typescript-nextjs
tsk init --cursor --template python-django
tsk init --cursor --template java-spring

# OR agent modifies on the fly:
# Agent detects Laravel, adapts workflow commands
```

### Scenario 4: Contributors Customize
```bash
# Fork skill from registry:
tsk install github:trinity-os/skill-diagnose-python

# Customize for YOUR project:
Edit: skills/diagnose-python/SKILL.yaml

# Share back:
tsk publish my-custom-diagnose
```

---

## ğŸ“Š ANSWERED: Command Chaining Systems

**You asked:** "cli based command shortcut/chaining/workflow system running commands as per scenario already exists out there?"

**Similar Systems:**

1. **Make/Makefile** - Command orchestration
   - Pros: Universal, simple
   - Cons: No intelligence, no adaptation

2. **Just** - Modern command runner
   - Pros: Better than Make
   - Cons: Still static, no environment awareness

3. **Nx** - Monorepo orchestration
   - Pros: Intelligent caching, task graph
   - Cons: JavaScript-only, heavy

4. **Taskfile (go-task)** - YAML-based task runner
   - Pros: Cross-platform, simple
   - Cons: No AI agent integration

**SkillKit's Unique Value:**
- âœ… Environment-aware (adapts to stack)
- âœ… AI agent-first design
- âœ… Generates IDE-compatible docs
- âœ… Cross-platform (truly)
- âœ… Workflow + Skills + Registry (complete system)
- âœ… npm-distributable

**Closest comparable:** Nx + Taskfile + Claude Skills combined

---

## ğŸ¯ FINAL ARCHITECTURE

```
SkillKit = 3-in-1 System

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   1. WORKFLOW SYSTEM                â”‚
â”‚   (.cursor/commands/*.md)           â”‚
â”‚   - Multi-step protocols            â”‚
â”‚   - AI agent guidance               â”‚
â”‚   - Decision trees                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ invokes
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   2. SKILL EXECUTION ENGINE         â”‚
â”‚   (tsk command + runtime)           â”‚
â”‚   - Single-purpose tools            â”‚
â”‚   - Framework adapters              â”‚
â”‚   - Sandboxed execution             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ registers in
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   3. SKILL REGISTRY                 â”‚
â”‚   (AGENTS.md + discovery)           â”‚
â”‚   - Catalog of available skills     â”‚
â”‚   - Schema definitions              â”‚
â”‚   - IDE integration                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ALIGNMENT CHECK

**Original requirement:** Turn copy-paste workflow package â†’ npm installable  
**Status:** âœ… ACHIEVED (npm package with CLI)

**Added complexity:** Cross-platform, IDE-agnostic, skill registry  
**Status:** âœ… BUILT (adapters, Cursor integration, registry)

**Current state:** Doc-first workflow execution system for AI agents  
**Status:** âœ… COMPLETE (workflows + skills + AGENTS.md)

**Documentation:** Diverged from reality  
**Status:** âœ… CORRECTING NOW

---

**Next:** Update all docs to reflect this correct understanding!

