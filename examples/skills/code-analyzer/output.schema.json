{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["summary", "files"],
  "properties": {
    "summary": {
      "type": "object",
      "required": ["totalFiles", "totalLines", "avgComplexity"],
      "properties": {
        "totalFiles": {
          "type": "number",
          "description": "Total number of files analyzed"
        },
        "totalLines": {
          "type": "number",
          "description": "Total lines of code"
        },
        "totalComments": {
          "type": "number",
          "description": "Total lines of comments"
        },
        "avgComplexity": {
          "type": "number",
          "description": "Average cyclomatic complexity"
        },
        "issuesFound": {
          "type": "number",
          "description": "Total issues detected"
        }
      }
    },
    "files": {
      "type": "array",
      "description": "Per-file analysis results",
      "items": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string"
          },
          "lines": {
            "type": "number"
          },
          "comments": {
            "type": "number"
          },
          "complexity": {
            "type": "number"
          },
          "functions": {
            "type": "number"
          },
          "issues": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["complexity", "duplication", "naming", "structure", "best-practice"]
                },
                "severity": {
                  "type": "string",
                  "enum": ["low", "medium", "high"]
                },
                "message": {
                  "type": "string"
                },
                "line": {
                  "type": "number"
                }
              }
            }
          }
        }
      }
    },
    "recommendations": {
      "type": "array",
      "description": "Actionable recommendations",
      "items": {
        "type": "string"
      }
    }
  }
}


